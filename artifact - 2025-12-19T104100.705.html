<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PadyCraft Minecraft Server</title>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      width: 100%;
      height: 100%;
      font-family: Tahoma, Arial;
      direction: rtl;
      background: linear-gradient(135deg, #0b1d26, #162b36, #1e3c4f);
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card {
      width: 92%;
      max-width: 380px;
      background: rgba(0,0,0,0.8);
      padding: 30px;
      border-radius: 24px;
      text-align: center;
      box-shadow: 0 0 35px rgba(0,0,0,.8);
    }

    h1 {
      font-size: 36px;
      color: #2affd5;
      margin-bottom: 8px;
      text-shadow: 0 0 10px rgba(42,255,213,.8);
    }

    .ip {
      font-size: 19px;
      color: #ffe07a;
      margin-bottom: 6px;
      display: inline-flex;
      gap: 6px;
      align-items: center;
    }

    .ip span { direction: ltr; }
    .copy { cursor: pointer; }

    .copied {
      display: none;
      margin-bottom: 10px;
      font-size: 14px;
      color: #22c55e;
    }

    .version {
      font-size: 15px;
      color: #38bdf8;
      margin-bottom: 14px;
    }

    .info {
      font-size: 18px;
      color: #f1f5f9;
      margin-bottom: 14px;
    }

    .info span {
      color: #2affd5;
      font-weight: bold;
    }

    .status {
      font-size: 22px;
      font-weight: bold;
      margin-top: 6px;
      color: #22c55e;
    }

    .players {
      font-size: 20px;
      margin-top: 6px;
      color: #e5e7eb;
    }

    .rubika {
      display: block;
      margin: 24px auto 0;
      padding: 14px 22px;
      background: linear-gradient(135deg, #fbbf24, #f97316);
      color: #1f2933;
      text-decoration: none;
      font-size: 18px;
      font-weight: bold;
      border-radius: 14px;
    }

    footer {
      margin-top: 18px;
      font-size: 14px;
      color: #cbd5e1;
    }
  </style>
</head>
<body>

<div class="card">
  <h1>PadyCraft</h1>

  <div class="ip">
    IP:
    <span>pc.tgmc.ir</span>
    <span class="copy" onclick="copyIP()">ðŸ“‹</span>
  </div>

  <div id="copied" class="copied">âœ… Ú©Ù¾ÛŒ Ø´Ø¯</div>

  <div class="version">ðŸŽ® Ù†Ø³Ø®Ù‡ Ø³Ø±ÙˆØ±: <b>Û±.Û²Û° ØªØ§ Û±.Û²Û°.Û´</b></div>

  <div class="info">
    Ø³Ø§Ø²Ù†Ø¯Ù‡:
    <span>itz_padra22</span>
  </div>

  <div id="serverStatus" class="status">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</div>
  <div id="playerCount" class="players">---</div>

  <a class="rubika"
     href="https://rubika.ir/joing/HHCFFIIF0RPIJRFRHHHFMXDCYNRDRVVD"
     target="_blank"
     onclick="navigator.vibrate && navigator.vibrate([60,40,120])">
    âœ… Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø±ÙˆØ¨ÛŒÚ©Ø§
  </a>

  <footer>Minecraft Java Edition</footer>
</div>

<script>
const SERVER_IP = "pc.tgmc.ir";

async function loadStatus() {
  try {
    const res = await fetch("https://api.mcsrvstat.us/2/" + SERVER_IP);
    const data = await res.json();

    if (data.online) {
      document.getElementById("serverStatus").innerText = "ðŸŸ¢ Ø¢Ù†Ù„Ø§ÛŒÙ†";
      
      if (data.players && typeof data.players.online === "number") {
        document.getElementById("playerCount").innerText =
          "ðŸ‘¥ " + data.players.online + " / " + data.players.max;
      } else {
        document.getElementById("playerCount").innerText =
          "ðŸ‘¥ Ù¾Ù„ÛŒØ±Ù‡Ø§ Ù‚Ø§Ø¨Ù„ Ø¯Ø±ÛŒØ§ÙØª Ù†ÛŒØ³Øª";
      }

    } else {
      document.getElementById("serverStatus").innerText = "ðŸ”´ Ø¢ÙÙ„Ø§ÛŒÙ†";
      document.getElementById("serverStatus").style.color = "#ef4444";
      document.getElementById("playerCount").innerText = "";
    }
  } catch {
    document.getElementById("serverStatus").innerText = "âš ï¸ Ø®Ø·Ø§ÛŒ Ø§ØªØµØ§Ù„";
    document.getElementById("playerCount").innerText = "";
  }
}

function copyIP() {
  navigator.clipboard.writeText(SERVER_IP);
  const c = document.getElementById("copied");
  c.style.display = "block";
  navigator.vibrate && navigator.vibrate(80);
  setTimeout(() => c.style.display = "none", 2000);
}

loadStatus();
setInterval(loadStatus, 10000); // âœ… Ù‡Ø± Û±Û° Ø«Ø§Ù†ÛŒÙ‡

</script>

</body>
</html>
